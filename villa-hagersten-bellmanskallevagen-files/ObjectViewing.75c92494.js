var e,t;(t=(e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire7bbe).register)("1cE51",function(t,s){Object.defineProperty(t.exports,"__esModule",{value:!0,configurable:!0}),Object.defineProperty(t.exports,"default",{get:function(){return c},set:void 0,enumerable:!0,configurable:!0});var i=e("a9eYm"),n=e("dTCkE"),a=e("5jxwZ"),l=e("kqTTL"),o=e("cUbQm");let r=(0,n.lazy)(()=>e("eYlF4")),d=(0,n.lazy)(()=>e("hiOS5")),u=(0,n.lazy)(()=>e("b2JAe"));function c(){let[e,t]=(0,n.useState)(),[s,c]=(0,n.useState)(!1),[g,m]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!1),[w,h]=(0,n.useState)(!1),[b,f]=(0,n.useState)(!1),[j,S]=(0,n.useState)(!1),[p,y]=(0,n.useState)(!1),{objectId:k,estate:F,setOneViewing:N,oneViewing:I}=(0,n.useContext)(l.ObjectPageContext);return(0,n.useEffect)(()=>{F?.viewings&&F?.viewings.length===1&&F?.viewings[0]?.timeSlots?.length===1&&!1===I&&N(!0),F?.viewings&&F?.viewings?.length===1&&!F?.viewings?.[0].isDigital&&h(!0)},[F?.viewings]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"pt-4 lg:pt-4 lg:pb-0",children:[(0,i.jsxs)("div",{className:"px-4 xxl:px-6",children:[p&&(0,i.jsxs)("h3",{className:"font-icb text-blue700 text-xl",children:[w&&p&&(0,i.jsx)("span",{children:"Visning"}),p&&!w&&(0,i.jsx)("span",{children:"Visningar"})]}),F?.viewings&&F?.viewings!==void 0&&F?.status.name!=o.EstateStatuses.Sold&&F?.status.name!=o.EstateStatuses.SoldOut&&(0,i.jsx)("div",{className:`${p?"mb-4":""}`,children:(0,i.jsx)(n.Suspense,{children:F?.viewings.map(e=>!1===e.isDigital&&i.jsx("div",{"data-id":e.id,className:"inline-block w-full viewing-item",children:i.jsxs(i.Fragment,{children:[!p&&y(!0),!j&&e.bookableFromInternet&&!e.fullyBooked&&new Date(e.noLaterThen)>new Date&&S(!0),i.jsx(u,{viewing:e,setShowHideModalFunction:c,setSelectedViewingFunction:t})]})},e?.id))})}),b&&F?.status.name!=o.EstateStatuses.Sold&&F?.status.name!=o.EstateStatuses.SoldOut&&(0,i.jsxs)("div",{className:`flex flex-col justify-between items-start ${p?"pt-4 border-t-1 border-grey100":""}`,children:[(0,i.jsx)("div",{children:(0,i.jsxs)("h3",{className:" font-icb text-blue700 text-xl flex ",children:["Digital live visning",(0,i.jsx)("img",{alt:"Ikon digital live visning",className:"w-3 ml-1 -mt-2",src:"/Images/Icons/live-viewing/live-viewing-small.svg"})]})}),(0,i.jsxs)("a",{className:"text-blue700 hover-move-arrow flex items-center text-tiny mt-1 mb-1 font-ic hover:underline",href:"https://www.lansfast.se/information-digitala-visningar/",target:"_blank",children:[(0,i.jsx)("span",{children:"Mer om Digitala Live visningar"}),(0,i.jsx)("img",{alt:"Ikon pil höger",className:"w-4 arrow-move ml-2",src:"/Images/Icons/Arrows/arrow-right-blue700.svg"})]})]}),F?.viewings&&F?.viewings!==void 0&&F?.status.name!=o.EstateStatuses.Sold&&F?.status.name!=o.EstateStatuses.SoldOut&&F?.viewings.map(e=>e.isDigital&&i.jsx("div",{"data-id":e.id,className:"inline-block w-full viewing-item",children:i.jsx(n.Suspense,{children:i.jsxs(i.Fragment,{children:[!b&&f(!0),!j&&e.bookableFromInternet&&!e.fullyBooked&&new Date(e.noLaterThen)>new Date&&S(!0),i.jsx(u,{viewing:e,setShowHideModalFunction:c,setSelectedViewingFunction:t})]})})},e?.id))]}),(0,i.jsxs)("div",{className:"px-4 xxl:px-6",children:[j&&F?.status.name!=o.EstateStatuses.Sold&&F?.status.name!=o.EstateStatuses.SoldOut&&(0,i.jsx)("button",{className:"viewing-booking-button text-white bg-blue700 hover-darken-blue w-full py-3 px-3 font-icb rounded-md mt-4 mb-2",onClick:e=>{c(!0),v(!0)},children:"Boka visning"}),(!F?.viewings||F?.viewings?.length==0||!j)&&null!=F&&F?.status.name!=o.EstateStatuses.Sold&&F?.status.name!=o.EstateStatuses.SoldOut&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{className:"font-icb text-blue700 text-xl",children:"Intresseanmälan"}),(0,i.jsx)("p",{className:"mb-2 text-black500 text-tiny leading-4",children:"Anmäl ditt intresse så håller vi dig uppdaterad."})]}),(!F?.viewings||!j)&&null!=F&&F?.status.name!=o.EstateStatuses.Sold&&F?.status.name!=o.EstateStatuses.SoldOut&&(0,i.jsx)("button",{className:"viewing-booking-button text-white bg-blue700 hover-darken-blue w-full py-3 px-3 font-icb rounded-md mt-2 mb-2",onClick:e=>{m(!0),v(!0)},children:"Anmäl intresse"}),s&&(0,i.jsx)(n.Suspense,{children:(0,i.jsx)(r,{setShowHideModalFunction:c})}),g&&(0,i.jsx)(n.Suspense,{children:(0,i.jsx)(d,{customerId:"S13117",estateAddress:F?.addressInfo?.streetAddress,estateId:k,estateCity:F?.addressInfo?.city,agentEmail:F?.brokers[0]?.email,estateType:F?.estateTypeAsString,setShowHideModalFunction:m})})]}),x&&(0,i.jsx)(a.HelmetProvider,{children:(0,i.jsx)(a.Helmet,{children:(0,i.jsx)("script",{children:`
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': 'intresseklick',
                'eventInfo': {
                    'intressetyp': '${j?"Visning":F?.estateTypeAsString==="Nyproduktion"?"Nyproduktion":"Intresse"}'
                }
            });
          `})})})]})})}}),t("eYlF4",function(t,s){t.exports=Promise.all([e("fj9RB")(e("i55FY").resolve("74Z0M")),e("fj9RB")(e("i55FY").resolve("a9zu4"))]).then(()=>e("81MIW"))}),t("hiOS5",function(t,s){t.exports=Promise.all([e("fj9RB")(e("i55FY").resolve("iG5lV")),e("fj9RB")(e("i55FY").resolve("74Z0M")),e("fj9RB")(e("i55FY").resolve("4G055")),e("fj9RB")(e("i55FY").resolve("6riAj"))]).then(()=>e("kd4pA"))}),t("b2JAe",function(t,s){t.exports=e("fj9RB")(e("i55FY").resolve("kzlmc")).then(()=>e("3mB8X"))});
//# sourceMappingURL=ObjectViewing.75c92494.js.map
